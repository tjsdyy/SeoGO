---
section: 上站流程
nav_order: 1
title: 5.1.1 前端框架与静态部署
---
> 选择合适的前端框架是SEO友好网站建设的第一步。本节对比主流框架的SEO能力，并介绍静态部署的最佳实践。

## 为什么前端框架选型对SEO至关重要

搜索引擎爬虫在抓取网页时，核心关注的是能否快速、完整地获取页面HTML内容。不同的前端框架在渲染方式上存在本质差异：

- **客户端渲染（CSR）**：浏览器下载JS后在本地渲染，爬虫可能看到空白页面
- **服务端渲染（SSR）**：服务器直接返回完整HTML，爬虫友好
- **静态生成（SSG）**：构建时生成所有HTML文件，性能最优且爬虫友好
- **增量静态再生（ISR）**：结合SSG与SSR，按需更新静态页面

## 主流框架SEO特性对比

| 特性 | Next.js | Astro | Hugo | Gatsby |
|------|---------|-------|------|--------|
| 渲染方式 | SSR/SSG/ISR | SSG（默认） | SSG | SSG |
| 构建速度 | 中等 | 快 | 极快 | 较慢 |
| 学习曲线 | 中等 | 低 | 低 | 中等 |
| 生态系统 | 丰富 | 增长中 | 成熟 | 丰富 |
| 适用场景 | 全栈应用 | 内容网站 | 博客/文档 | 内容网站 |
| JS Bundle | 较大 | 极小 | 无 | 较大 |
| 动态内容支持 | 强 | 中等 | 弱 | 中等 |

## Next.js：全栈SEO方案

Next.js 是目前最流行的React全栈框架，提供了完善的SEO支持。

### 核心SEO优势

- App Router 默认服务端组件，天然SEO友好
- 内置 `Metadata API` 管理页面元信息
- 支持 SSG、SSR、ISR 三种渲染策略灵活切换
- 图片组件自动优化（WebP转换、懒加载、尺寸适配）

### 基础SEO配置示例

```typescript
// app/layout.tsx - 全局Metadata配置
import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: {
    default: 'My SEO Website',
    template: '%s | My SEO Website',
  },
  description: 'A comprehensive guide to overseas SEO',
  openGraph: {
    type: 'website',
    locale: 'en_US',
    url: 'https://example.com',
    siteName: 'My SEO Website',
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
};
```

```typescript
// app/blog/[slug]/page.tsx - 动态页面Metadata
export async function generateMetadata({ params }): Promise<Metadata> {
  const post = await getPost(params.slug);
  return {
    title: post.title,
    description: post.excerpt,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      images: [{ url: post.coverImage }],
    },
  };
}

// 静态生成所有博客路径
export async function generateStaticParams() {
  const posts = await getAllPosts();
  return posts.map((post) => ({
    slug: post.slug,
  }));
}
```

### Sitemap自动生成

```typescript
// app/sitemap.ts
import { MetadataRoute } from 'next';

export default async function sitemap(): Promise<MetadataRoute.Sitemap> {
  const posts = await getAllPosts();

  const blogEntries = posts.map((post) => ({
    url: `https://example.com/blog/${post.slug}`,
    lastModified: post.updatedAt,
    changeFrequency: 'weekly' as const,
    priority: 0.8,
  }));

  return [
    {
      url: 'https://example.com',
      lastModified: new Date(),
      changeFrequency: 'daily',
      priority: 1,
    },
    ...blogEntries,
  ];
}
```

## Astro：内容网站的最佳选择

Astro 采用"岛屿架构"（Islands Architecture），默认输出零JS的静态HTML，是内容型SEO网站的理想选择。

### 核心SEO优势

- 默认零客户端JS，页面加载极快
- 支持多种UI框架（React、Vue、Svelte）混用
- 内置内容集合（Content Collections）管理结构化内容
- 自动生成sitemap和RSS

### 基础项目配置

```javascript
// astro.config.mjs
import { defineConfig } from 'astro/config';
import sitemap from '@astrojs/sitemap';

export default defineConfig({
  site: 'https://example.com',
  integrations: [
    sitemap({
      filter: (page) => !page.includes('/admin/'),
      changefreq: 'weekly',
      priority: 0.7,
    }),
  ],
  // 图片优化配置
  image: {
    service: {
      entrypoint: 'astro/assets/services/sharp',
    },
  },
});
```

### 页面SEO模板

```astro
---
// src/layouts/BaseLayout.astro
interface Props {
  title: string;
  description: string;
  image?: string;
  canonicalUrl?: string;
}

const { title, description, image, canonicalUrl } = Astro.props;
const canonical = canonicalUrl || Astro.url.href;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title}</title>
  <meta name="description" content={description} />
  <link rel="canonical" href={canonical} />

  <!-- Open Graph -->
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:url" content={canonical} />
  {image && <meta property="og:image" content={image} />}

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:description" content={description} />
</head>
<body>
  <slot />
</body>
</html>
```

## Hugo：极速静态生成

Hugo 使用Go语言开发，构建速度极快，适合大规模内容网站。

### 核心优势

- 构建速度：万级页面秒级生成
- 无需Node.js运行时
- 内置多语言支持
- 丰富的主题生态

### SEO基础配置

```toml
# hugo.toml
baseURL = "https://example.com/"
languageCode = "en-us"
title = "My SEO Site"

[sitemap]
  changefreq = "weekly"
  filename = "sitemap.xml"
  priority = 0.5

[params]
  description = "Site description for SEO"
  author = "Site Author"

[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = false
  [markup.tableOfContents]
    startLevel = 2
    endLevel = 4

# 多语言配置
[languages]
  [languages.en]
    weight = 1
    languageName = "English"
  [languages.zh]
    weight = 2
    languageName = "中文"
```

### Hugo SEO模板片段

```html
<!-- layouts/partials/seo.html -->
<title>{{ .Title }} | {{ .Site.Title }}</title>
<meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
<link rel="canonical" href="{{ .Permalink }}" />

{{ with .OutputFormats.Get "rss" }}
  <link rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" href="{{ .Permalink }}" />
{{ end }}

<!-- JSON-LD 结构化数据 -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "{{ .Title }}",
  "description": "{{ .Description }}",
  "url": "{{ .Permalink }}",
  "datePublished": "{{ .Date.Format "2006-01-02" }}",
  "dateModified": "{{ .Lastmod.Format "2006-01-02" }}"
}
</script>
```

## Gatsby：数据驱动的内容站

Gatsby 适合需要从多数据源聚合内容的网站。

### 核心特点

- GraphQL 数据层统一管理多种数据源
- 丰富的插件生态（SEO、图片优化、PWA）
- 自动代码分割和预加载

### SEO插件配置

```javascript
// gatsby-config.js
module.exports = {
  siteMetadata: {
    title: 'My SEO Site',
    description: 'Description for search engines',
    siteUrl: 'https://example.com',
  },
  plugins: [
    'gatsby-plugin-sitemap',
    'gatsby-plugin-robots-txt',
    {
      resolve: 'gatsby-plugin-canonical-urls',
      options: {
        siteUrl: 'https://example.com',
      },
    },
    {
      resolve: 'gatsby-plugin-manifest',
      options: {
        name: 'My SEO Site',
        short_name: 'SEO Site',
        start_url: '/',
        display: 'standalone',
        icon: 'src/images/icon.png',
      },
    },
  ],
};
```

## 静态部署方案对比

| 平台 | 免费额度 | CDN | 自定义域名 | 构建时间 | 适用框架 |
|------|----------|-----|------------|----------|----------|
| Vercel | 100GB/月 | 全球 | 支持 | 快 | Next.js最优 |
| Netlify | 100GB/月 | 全球 | 支持 | 快 | 全支持 |
| Cloudflare Pages | 无限 | 全球 | 支持 | 快 | 全支持 |
| GitHub Pages | 100GB/月 | 有限 | 支持 | 中等 | 静态站点 |
| AWS S3 + CloudFront | 按量计费 | 全球 | 支持 | 需配置 | 全支持 |

### Vercel部署配置示例

```json
// vercel.json
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        }
      ]
    },
    {
      "source": "/static/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ],
  "redirects": [
    {
      "source": "/old-page",
      "destination": "/new-page",
      "statusCode": 301
    }
  ]
}
```

## 选型决策指南

根据项目需求选择框架：

1. **博客/内容网站（< 1000页）**：Astro 或 Hugo
2. **博客/内容网站（> 1000页）**：Hugo（构建速度最快）
3. **电商/需要动态交互**：Next.js（SSR + ISR）
4. **多数据源聚合站点**：Gatsby 或 Next.js
5. **追求极致性能评分**：Astro（零JS输出）
6. **团队熟悉React生态**：Next.js 或 Gatsby
7. **需要多语言支持**：Next.js 或 Hugo（原生支持）

> **提示**：无论选择哪个框架，确保你的网站能够输出完整的服务端HTML。Google虽然可以渲染JavaScript，但SSR/SSG页面的索引速度和可靠性远优于纯CSR页面。
