---
section: 上站流程
nav_order: 2
title: 5.1.2 CMS与自定义系统选择
---
> 内容管理系统（CMS）的选择直接影响内容更新效率和SEO表现。本节详细对比主流CMS方案，帮助你做出最适合项目的选型决策。

## CMS选型的核心考量因素

在选择CMS时，需要从以下维度综合评估：

- **SEO能力**：是否支持自定义URL、元标签、Sitemap自动生成
- **性能表现**：页面加载速度、服务器资源消耗
- **内容管理效率**：编辑器体验、多人协作、发布流程
- **可扩展性**：插件/主题生态、API能力
- **维护成本**：安全更新、服务器运维、技术债务
- **多语言支持**：国际化能力对海外SEO至关重要

## 主流CMS全方位对比

| 维度 | WordPress | Ghost | Strapi | Sanity | Contentful |
|------|-----------|-------|--------|--------|------------|
| 类型 | 传统CMS | 内容平台 | Headless CMS | Headless CMS | Headless CMS |
| 开源 | 是 | 是 | 是 | 部分 | 否 |
| 自托管 | 支持 | 支持 | 支持 | 云优先 | 仅云端 |
| 学习曲线 | 低 | 低 | 中 | 中 | 中 |
| SEO插件 | 极丰富 | 内置 | 需自建 | 需自建 | 需自建 |
| 性能 | 中等 | 良好 | 良好 | 优秀 | 优秀 |
| API能力 | REST/GraphQL | REST | REST/GraphQL | GROQ/GraphQL | REST/GraphQL |
| 市场份额 | ~43% | ~1% | 增长中 | 增长中 | 成熟 |
| 适用规模 | 全规模 | 中小 | 中大 | 中大 | 中大 |

## WordPress：最成熟的SEO生态

WordPress 占据全球43%的网站份额，拥有最成熟的SEO工具链。

### SEO优势

- **插件生态**：Yoast SEO、Rank Math等插件功能极其强大
- **主题丰富**：大量针对SEO优化的主题模板
- **社区支持**：遇到问题几乎都能找到解决方案
- **内容编辑友好**：古腾堡编辑器对非技术人员友好

### 核心SEO插件配置

```php
// functions.php - 自定义SEO增强
// 移除WordPress默认的多余标签
remove_action('wp_head', 'wp_generator');
remove_action('wp_head', 'wlwmanifest_link');
remove_action('wp_head', 'rsd_link');
remove_action('wp_head', 'wp_shortlink_wp_head');

// 自定义标题结构
function custom_title_separator($sep) {
    $sep = '|';
    return $sep;
}
add_filter('document_title_separator', 'custom_title_separator');

// 添加WebP支持
function allow_webp_upload($mimes) {
    $mimes['webp'] = 'image/webp';
    return $mimes;
}
add_filter('mime_types', 'allow_webp_upload');
```

### Rank Math SEO 推荐配置

```php
// Rank Math 基础设置要点
// 1. 全局Meta设置
//    - Title格式: %title% %sep% %sitename%
//    - 启用 Schema Markup
//    - 开启 Breadcrumb

// 2. Sitemap设置
//    - 排除无价值页面（标签存档、作者存档等）
//    - 设置每个Sitemap最大URL数: 1000
//    - 包含图片Sitemap

// 3. 重定向管理
//    - 启用404监控
//    - 设置自动重定向规则
```

### WordPress性能优化要点

```nginx
# Nginx配置优化 - WordPress专用
# 静态文件缓存
location ~* \.(jpg|jpeg|png|gif|ico|css|js|webp|woff2)$ {
    expires 365d;
    add_header Cache-Control "public, immutable";
    access_log off;
}

# 启用Gzip压缩
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml;
gzip_min_length 1000;

# FastCGI缓存（配合WP Super Cache或W3 Total Cache）
fastcgi_cache_path /tmp/nginx-cache levels=1:2 keys_zone=WORDPRESS:100m inactive=60m;
fastcgi_cache_key "$scheme$request_method$host$request_uri";
```

### WordPress的不足

- **安全隐患**：需要定期更新核心、插件和主题
- **性能瓶颈**：插件过多会严重拖慢速度
- **技术债务**：过度依赖插件导致维护困难
- **前后端耦合**：传统架构限制了前端灵活性

## Ghost：现代化内容平台

Ghost 是一个专注于内容发布的现代化平台，内置SEO功能，无需额外插件。

### SEO优势

- **内置SEO**：自动生成Sitemap、Meta标签、结构化数据
- **性能优秀**：基于Node.js，默认性能优于WordPress
- **简洁架构**：无插件依赖，安全性更高
- **内置Newsletter**：利于内容分发和用户留存

### Ghost SEO配置

```json
// Ghost 的 routes.yaml - 自定义路由
routes:
  /custom-page/:
    template: custom
    data: page.custom-page

collections:
  /blog/:
    permalink: /blog/{slug}/
    template: blog
    filter: "tag:-hash-internal"
  /:
    permalink: /{slug}/
    template: index

taxonomies:
  tag: /tag/{slug}/
  author: /author/{slug}/
```

### Ghost主题SEO模板

```handlebars
{{!-- default.hbs --}}
<!DOCTYPE html>
<html lang="{{@site.locale}}">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    {{!-- Ghost自动注入SEO Meta标签 --}}
    {{ghost_head}}

    {{!-- 自定义结构化数据 --}}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{@site.title}}",
        "url": "{{@site.url}}",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "{{@site.url}}/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
</head>
<body>
    {{{body}}}
    {{ghost_foot}}
</body>
</html>
```

## Strapi：灵活的开源Headless CMS

Strapi 是最受欢迎的开源Headless CMS，适合需要高度自定义的项目。

### 适用场景

- 多渠道内容分发（Web、App、小程序）
- 需要自定义内容模型
- 团队有前端开发能力
- 需要自托管控制数据

### 内容模型设计（SEO友好）

```javascript
// api/article/content-types/article/schema.json
{
  "kind": "collectionType",
  "collectionName": "articles",
  "attributes": {
    "title": {
      "type": "string",
      "required": true,
      "maxLength": 70
    },
    "slug": {
      "type": "uid",
      "targetField": "title",
      "required": true
    },
    "content": {
      "type": "richtext",
      "required": true
    },
    "excerpt": {
      "type": "text",
      "maxLength": 160
    },
    "seo": {
      "type": "component",
      "component": "shared.seo",
      "required": true
    },
    "featuredImage": {
      "type": "media",
      "allowedTypes": ["images"],
      "required": true
    },
    "category": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::category.category"
    },
    "publishedAt": {
      "type": "datetime"
    }
  }
}
```

```javascript
// components/shared/seo.json - 可复用的SEO组件
{
  "collectionName": "components_shared_seos",
  "attributes": {
    "metaTitle": {
      "type": "string",
      "required": true,
      "maxLength": 70
    },
    "metaDescription": {
      "type": "string",
      "required": true,
      "maxLength": 160
    },
    "canonicalUrl": {
      "type": "string"
    },
    "ogImage": {
      "type": "media",
      "allowedTypes": ["images"]
    },
    "noIndex": {
      "type": "boolean",
      "default": false
    },
    "structuredData": {
      "type": "json"
    }
  }
}
```

### Strapi + Next.js 对接示例

```typescript
// lib/strapi.ts - API对接封装
const STRAPI_URL = process.env.STRAPI_URL || 'http://localhost:1337';

export async function getArticles() {
  const res = await fetch(
    `${STRAPI_URL}/api/articles?populate=*&sort=publishedAt:desc`,
    {
      headers: {
        Authorization: `Bearer ${process.env.STRAPI_TOKEN}`,
      },
      next: { revalidate: 3600 }, // ISR: 每小时重新验证
    }
  );
  const data = await res.json();
  return data.data;
}

export async function getArticleBySlug(slug: string) {
  const res = await fetch(
    `${STRAPI_URL}/api/articles?filters[slug][$eq]=${slug}&populate=deep`,
    {
      headers: {
        Authorization: `Bearer ${process.env.STRAPI_TOKEN}`,
      },
    }
  );
  const data = await res.json();
  return data.data[0];
}
```

## Headless CMS 商业方案对比

### Sanity

```javascript
// sanity.config.ts
import { defineConfig } from 'sanity';
import { deskTool } from 'sanity/desk';

export default defineConfig({
  name: 'default',
  title: 'My SEO Site',
  projectId: 'your-project-id',
  dataset: 'production',
  plugins: [deskTool()],
  schema: {
    types: [
      {
        name: 'post',
        title: 'Blog Post',
        type: 'document',
        fields: [
          { name: 'title', type: 'string', validation: Rule => Rule.max(70) },
          { name: 'slug', type: 'slug', options: { source: 'title' } },
          { name: 'body', type: 'array', of: [{ type: 'block' }] },
          { name: 'seoDescription', type: 'text', validation: Rule => Rule.max(160) },
          { name: 'ogImage', type: 'image' },
        ],
      },
    ],
  },
});
```

### Contentful

- **优点**：稳定的云服务、强大的CDN、丰富的SDK
- **缺点**：价格较高、数据在第三方、免费版限制多
- **适用**：企业级项目、预算充足的团队

## 选型决策流程

根据以下条件做出选择：

```
项目需求评估
│
├── 非技术团队独立运营？
│   ├── 是 → WordPress（生态最成熟）
│   └── 否 ↓
│
├── 纯内容站（博客/新闻）？
│   ├── 是 → Ghost（专注内容，性能好）
│   └── 否 ↓
│
├── 需要多端分发（Web + App）？
│   ├── 是 → Headless CMS ↓
│   │   ├── 预算有限/需自托管 → Strapi
│   │   ├── 灵活查询/实时预览 → Sanity
│   │   └── 企业级/托管服务 → Contentful
│   └── 否 ↓
│
├── 需要复杂动态功能？
│   ├── 是 → WordPress + 自定义开发 或 Strapi
│   └── 否 → 静态站点生成器（参见5.1.1）
```

## 混合架构：最佳实践

越来越多的团队采用混合架构，将CMS作为内容源，前端框架负责渲染：

| 组合方案 | 适用场景 | 复杂度 |
|----------|----------|--------|
| WordPress + Next.js | 利用WP内容生态+现代前端 | 高 |
| Strapi + Astro | 自定义内容模型+极致性能 | 中 |
| Ghost + Gatsby | 内容写作+数据驱动前端 | 中 |
| Sanity + Next.js | 实时编辑+全栈能力 | 中高 |

> **提示**：Headless架构虽然灵活，但增加了技术复杂度。如果团队技术能力有限，WordPress等传统CMS可能是更务实的选择。SEO的核心在于内容质量和技术规范，而非架构的先进性。
